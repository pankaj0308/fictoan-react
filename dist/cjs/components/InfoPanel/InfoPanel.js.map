{"version":3,"file":"InfoPanel.js","sources":["../../../../src/hooks/UseClickOutside.ts","../../../../src/components/InfoPanel/InfoPanel.tsx"],"sourcesContent":["import { useEffect } from \"react\";\n\nexport const useClickOutside = (ref: any, handler: any) => {\n    useEffect(() => {\n        const listener = (event: Event) => {\n            if (!ref.current || ref.current.contains(event.target)) {\n                return;\n            }\n            handler(event);\n        };\n\n        document.addEventListener(\"mousedown\", listener);\n        document.addEventListener(\"touchstart\", listener);\n        return () => {\n            document.removeEventListener(\"mousedown\", listener);\n            document.removeEventListener(\"touchstart\", listener);\n        };\n    }, [ref, handler]);\n};\n","import React from \"react\";\n\nimport { Element } from \"../Element\";\nimport { CommonAndHTMLProps } from \"../Element/constants\";\nimport { useClickOutside } from \"../../hooks/UseClickOutside\";\n\nimport { InfoPanelStyled } from \"./InfoPanel.styled\";\n\n// prettier-ignore\nexport interface InfoPanelCustomProps {\n    width               ? : \"tiny\" | \"small\" | \"medium\" | \"large\" | \"huge\";\n    isOpen              ? : boolean;\n    onCloseCallback     ? : () => void;\n    closeOnClickOutside ? : boolean;\n}\n\nexport type InfoPanelElementType = HTMLDivElement;\nexport type InfoPanelProps = Omit<CommonAndHTMLProps<InfoPanelElementType>, keyof InfoPanelCustomProps> &\n    InfoPanelCustomProps;\n\nexport const InfoPanel = React.forwardRef(\n    (\n        { width = \"medium\", isOpen, children, onCloseCallback, closeOnClickOutside, padding, ...props }: InfoPanelProps,\n        ref: React.Ref<InfoPanelElementType>\n    ) => {\n        let classNames = [];\n        const infoPanelRef = React.useRef<InfoPanelElementType>(null);\n\n        if (width) {\n            classNames.push(width);\n        }\n\n        if (isOpen) {\n            classNames.push(\"open\");\n        }\n\n        const closeInfoPanel = () => {\n            if (onCloseCallback) {\n                onCloseCallback();\n            }\n        };\n        useClickOutside(ref ?? infoPanelRef, () => {\n            if (closeOnClickOutside) closeInfoPanel();\n        });\n\n        return (\n            !!isOpen && (\n                <Element<InfoPanelElementType>\n                    as={InfoPanelStyled}\n                    ref={ref ?? infoPanelRef}\n                    classNames={classNames}\n                    padding={padding ?? \"tiny\"}\n                    {...props}\n                >\n                    <Element as=\"div\" className=\"dismiss-button\" onClick={closeInfoPanel} role=\"button\" />\n                    <Element as=\"div\" className=\"info-panel-content-wrapper\">\n                        {children}\n                    </Element>\n                </Element>\n            )\n        );\n    }\n);\n"],"names":["InfoPanel","React","forwardRef","_a","ref","width","isOpen","children","onCloseCallback","closeOnClickOutside","padding","props","classNames","infoPanelRef","useRef","push","closeInfoPanel","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","useClickOutside","Element","as","InfoPanelStyled","className","onClick","role"],"mappings":"kSAEO,MCkBMA,EAAYC,UAAMC,YAC3B,CACIC,EACAC,SADAC,MAAEA,EAAQ,SAAVC,OAAoBA,EAApBC,SAA4BA,EAA5BC,gBAAsCA,EAAtCC,oBAAuDA,EAAvDC,QAA4EA,KAAYC,aAAxF,qFAGIC,EAAa,SACXC,EAAeZ,UAAMa,OAA6B,MAEpDT,GACAO,EAAWG,KAAKV,GAGhBC,GACAM,EAAWG,KAAK,cAGdC,EAAiB,KACfR,GACAA,WDpCe,EAACJ,EAAUa,KACtCC,aAAU,WACAC,EAAYC,IACThB,EAAIiB,UAAWjB,EAAIiB,QAAQC,SAASF,EAAMG,SAG/CN,EAAQG,WAGZI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GACjC,KACHK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,MAEhD,CAACf,EAAKa,KCwBLU,CAAgBvB,MAAAA,EAAAA,EAAOS,GAAc,KAC7BJ,GAAqBO,SAIvBV,GACEL,wBAAC2B,yBACGC,GAAIC,kBACJ1B,IAAKA,MAAAA,EAAAA,EAAOS,EACZD,WAAYA,EACZF,QAASA,MAAAA,EAAAA,EAAW,QAChBC,GAEJV,wBAAC2B,WAAQC,GAAG,MAAME,UAAU,iBAAiBC,QAAShB,EAAgBiB,KAAK,WAC3EhC,wBAAC2B,WAAQC,GAAG,MAAME,UAAU,8BACvBxB"}