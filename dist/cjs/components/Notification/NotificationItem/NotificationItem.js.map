{"version":3,"file":"NotificationItem.js","sources":["../../../../../src/components/Notification/NotificationItem/NotificationItem.tsx"],"sourcesContent":["import React, { useState, useEffect, SyntheticEvent } from \"react\";\n\nimport { Element } from \"../../Element/Element\";\nimport { CommonAndHTMLProps } from \"../../Element/constants\";\n\nimport { NotificationItemStyled } from \"./NotificationItem.styled\";\n\n// prettier-ignore\nexport interface NotificationItemCustomProps {\n    kind            ? : \"info\" | \"warning\" | \"error\" | \"success\";\n    show              : boolean;\n    isDismissible   ? : boolean;\n    onCloseCallback   : () => void;\n    showFor         ? : number;\n}\n\nexport type NotificationItemElementType = HTMLDivElement;\nexport type NotificationItemProps = Omit<\n    CommonAndHTMLProps<NotificationItemElementType>,\n    keyof NotificationItemCustomProps\n> &\n    NotificationItemCustomProps;\n\nexport const NotificationItem = React.forwardRef(\n    (\n        { show, onCloseCallback, kind, children, isDismissible, showFor, ...props }: NotificationItemProps,\n        ref: React.Ref<NotificationItemElementType>\n    ) => {\n        let classNames = [];\n        const [isVisible, setIsVisible] = useState<boolean>(show);\n\n        useEffect(() => {\n            if (show) {\n                setIsVisible(true);\n            }\n\n            const timer = show\n                ? setTimeout(() => {\n                      onCloseCallback();\n                  }, showFor ?? 8000)\n                : undefined;\n\n            return () => {\n                clearTimeout(timer);\n            };\n        }, [show]);\n\n        if (kind) {\n            classNames.push(kind);\n        }\n\n        if (isDismissible) {\n            classNames.push(\"dismissible\");\n        }\n\n        const onDismissClick = (event: SyntheticEvent<HTMLDivElement>) => {\n            event.preventDefault();\n            onCloseCallback();\n        };\n\n        const onTransitionEnd = () => {\n            if (!show) setIsVisible(false);\n        };\n\n        return (\n            isVisible && (\n                <Element<NotificationItemElementType>\n                    as={NotificationItemStyled}\n                    ref={ref}\n                    classNames={[...classNames, !show ? \"dismissed\" : \"\"]}\n                    onTransitionEnd={onTransitionEnd}\n                    padding=\"nano\"\n                    marginTop=\"nano\"\n                    marginBottom=\"nano\"\n                    {...props}\n                >\n                    <Element as=\"div\" padding=\"nano\" className=\"notification-content\">\n                        {children}\n                    </Element>\n\n                    {isDismissible && (\n                        <div\n                            className=\"dismiss-button\"\n                            onClick={onDismissClick}\n                            onKeyDown={onDismissClick}\n                            role=\"button\"\n                            tabIndex={-1}\n                        />\n                    )}\n                </Element>\n            )\n        );\n    }\n);\n"],"names":["NotificationItem","React","forwardRef","_a","ref","show","onCloseCallback","kind","children","isDismissible","showFor","props","classNames","isVisible","setIsVisible","useState","useEffect","timer","setTimeout","undefined","clearTimeout","push","onDismissClick","event","preventDefault","Element","as","NotificationItemStyled","onTransitionEnd","padding","marginTop","marginBottom","className","onClick","onKeyDown","role","tabIndex"],"mappings":"kTAuBaA,EAAmBC,UAAMC,YAClC,CACIC,EACAC,SADAC,KAAEA,EAAFC,gBAAQA,EAARC,KAAyBA,EAAzBC,SAA+BA,EAA/BC,cAAyCA,EAAzCC,QAAwDA,KAAYC,aAApE,4EAGIC,EAAa,SACVC,EAAWC,GAAgBC,WAAkBV,GAEpDW,aAAU,KACFX,GACAS,GAAa,SAGXG,EAAQZ,EACRa,YAAW,KACPZ,MACDI,MAAAA,EAAAA,EAAW,UACdS,QAEC,KACHC,aAAaH,MAElB,CAACZ,IAEAE,GACAK,EAAWS,KAAKd,GAGhBE,GACAG,EAAWS,KAAK,qBAGdC,EAAkBC,IACpBA,EAAMC,iBACNlB,YAQAO,GACIZ,wBAACwB,yBACGC,GAAIC,yBACJvB,IAAKA,EACLQ,WAAY,IAAIA,EAAaP,EAAqB,GAAd,aACpCuB,gBAVY,KACfvB,GAAMS,GAAa,IAUhBe,QAAQ,OACRC,UAAU,OACVC,aAAa,QACTpB,GAEJV,wBAACwB,WAAQC,GAAG,MAAMG,QAAQ,OAAOG,UAAU,wBACtCxB,GAGJC,GACGR,+BACI+B,UAAU,iBACVC,QAASX,EACTY,UAAWZ,EACXa,KAAK,SACLC,UAAW"}